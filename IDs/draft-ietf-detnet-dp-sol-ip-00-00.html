<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>DetNet IP Data Plane Encapsulation</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
      /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
      a.info {
          /* This is the key. */
          position: relative;
          z-index: 24;
          text-decoration: none;
      }
      a.info:hover {
          z-index: 25;
          color: #FFF; background-color: #900;
      }
      a.info span { display: none; }
      a.info:hover span.info {
          /* The span will display just on :hover state. */
          display: block;
          position: absolute;
          font-size: smaller;
          top: 2em; left: -5em; width: 15em;
          padding: 2px; border: 1px solid #333;
          color: #900; background-color: #EEE;
          text-align: left;
      }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  max-width: 55em;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Terms used in this document">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Abbreviations">
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Requirements language">
<link href="#rfc.section.3" rel="Chapter" title="3 DetNet IP Data Plane Overview">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 DetNet IP Flow Identification">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 DetNet Data Plane Requirements">
<link href="#rfc.section.4" rel="Chapter" title="4 DetNet IP Data Plane Considerations">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 End-system specific considerations">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 DetNet domain specific considerations">
<link href="#rfc.section.4.2.1" rel="Chapter" title="4.2.1 DetNet Routers">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Networks with multiple technology segments">
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 OAM">
<link href="#rfc.section.4.5" rel="Chapter" title="4.5 Class of Service">
<link href="#rfc.section.4.6" rel="Chapter" title="4.6 Quality of Service">
<link href="#rfc.section.4.7" rel="Chapter" title="4.7 Cross-DetNet flow resource aggregation">
<link href="#rfc.section.4.8" rel="Chapter" title="4.8 Time synchronization">
<link href="#rfc.section.5" rel="Chapter" title="5 Management and control plane considerations">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Explicit routes">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Service protection">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Congestion protection and latency control">
<link href="#rfc.section.5.4" rel="Chapter" title="5.4 Flow aggregation control">
<link href="#rfc.section.5.5" rel="Chapter" title="5.5 Bidirectional traffic">
<link href="#rfc.section.6" rel="Chapter" title="6 DetNet IP Encapsulation Procedures">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 Multi-Path Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Mapping IP DetNet Flows to IEEE 802.1 TSN">
<link href="#rfc.section.7.1" rel="Chapter" title="7.1 TSN Stream ID Mapping">
<link href="#rfc.section.7.2" rel="Chapter" title="7.2 TSN Usage of FRER">
<link href="#rfc.section.7.3" rel="Chapter" title="7.3 Management and Control Implications">
<link href="#rfc.section.8" rel="Chapter" title="8 Security considerations">
<link href="#rfc.section.9" rel="Chapter" title="9 IANA considerations">
<link href="#rfc.section.10" rel="Chapter" title="10 Contributors">
<link href="#rfc.section.11" rel="Chapter" title="11 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="12 References">
<link href="#rfc.references.1" rel="Chapter" title="12.1 Normative references">
<link href="#rfc.references.2" rel="Chapter" title="12.2 Informative references">
<link href="#rfc.appendix.A" rel="Chapter" title="A Example of DetNet data plane operation">
<link href="#rfc.appendix.B" rel="Chapter" title="B Example of pinned paths using IPv6">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content="xml2rfc version 2.9.6 - https://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Korhonen, J., Ed. and B. Varga, Ed." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-ietf-detnet-dp-sol-ip-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2018-15" />
  <meta name="dct.abstract" content="This document specifies Deterministic Networking data plane operation for IP encapsulated user data.  " />
  <meta name="description" content="This document specifies Deterministic Networking data plane operation for IP encapsulated user data.  " />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">DetNet</td>
<td class="right">J. Korhonen, Ed.</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right"></td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">B. Varga, Ed.</td>
</tr>
<tr>
<td class="left">Expires: January 1, 2019</td>
<td class="right">Ericsson</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">June 30, 2018</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">DetNet IP Data Plane Encapsulation<br />
  <span class="filename">draft-ietf-detnet-dp-sol-ip-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document specifies Deterministic Networking data plane operation for IP encapsulated user data.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of This Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at https://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on January 1, 2019.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2018 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<ul><li>2.1.   <a href="#rfc.section.2.1">Terms used in this document</a>
</li>
<li>2.2.   <a href="#rfc.section.2.2">Abbreviations</a>
</li>
<li>2.3.   <a href="#rfc.section.2.3">Requirements language</a>
</li>
</ul><li>3.   <a href="#rfc.section.3">DetNet IP Data Plane Overview</a>
</li>
<ul><li>3.1.   <a href="#rfc.section.3.1">DetNet IP Flow Identification</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">DetNet Data Plane Requirements</a>
</li>
</ul><li>4.   <a href="#rfc.section.4">DetNet IP Data Plane Considerations</a>
</li>
<ul><li>4.1.   <a href="#rfc.section.4.1">End-system specific considerations</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">DetNet domain specific considerations</a>
</li>
<ul><li>4.2.1.   <a href="#rfc.section.4.2.1">DetNet Routers</a>
</li>
</ul><li>4.3.   <a href="#rfc.section.4.3">Networks with multiple technology segments</a>
</li>
<li>4.4.   <a href="#rfc.section.4.4">OAM</a>
</li>
<li>4.5.   <a href="#rfc.section.4.5">Class of Service</a>
</li>
<li>4.6.   <a href="#rfc.section.4.6">Quality of Service</a>
</li>
<li>4.7.   <a href="#rfc.section.4.7">Cross-DetNet flow resource aggregation</a>
</li>
<li>4.8.   <a href="#rfc.section.4.8">Time synchronization</a>
</li>
</ul><li>5.   <a href="#rfc.section.5">Management and control plane considerations</a>
</li>
<ul><li>5.1.   <a href="#rfc.section.5.1">Explicit routes</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">Service protection</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Congestion protection and latency control</a>
</li>
<li>5.4.   <a href="#rfc.section.5.4">Flow aggregation control</a>
</li>
<li>5.5.   <a href="#rfc.section.5.5">Bidirectional traffic</a>
</li>
</ul><li>6.   <a href="#rfc.section.6">DetNet IP Encapsulation Procedures</a>
</li>
<ul><li>6.1.   <a href="#rfc.section.6.1">Multi-Path Considerations</a>
</li>
</ul><li>7.   <a href="#rfc.section.7">Mapping IP DetNet Flows to IEEE 802.1 TSN</a>
</li>
<ul><li>7.1.   <a href="#rfc.section.7.1">TSN Stream ID Mapping</a>
</li>
<li>7.2.   <a href="#rfc.section.7.2">TSN Usage of FRER</a>
</li>
<li>7.3.   <a href="#rfc.section.7.3">Management and Control Implications</a>
</li>
</ul><li>8.   <a href="#rfc.section.8">Security considerations</a>
</li>
<li>9.   <a href="#rfc.section.9">IANA considerations</a>
</li>
<li>10.   <a href="#rfc.section.10">Contributors</a>
</li>
<li>11.   <a href="#rfc.section.11">Acknowledgements</a>
</li>
<li>12.   <a href="#rfc.references">References</a>
</li>
<ul><li>12.1.   <a href="#rfc.references.1">Normative references</a>
</li>
<li>12.2.   <a href="#rfc.references.2">Informative references</a>
</li>
</ul><li>Appendix A.   <a href="#rfc.appendix.A">Example of DetNet data plane operation</a>
</li>
<li>Appendix B.   <a href="#rfc.appendix.B">Example of pinned paths using IPv6</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#sec_intro" id="sec_intro">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">Deterministic Networking (DetNet) is a service that can be offered by a network to DetNet flows.  DetNet provides these flows extremely low packet loss rates and assured maximum end-to-end delivery latency.  General background and concepts of DetNet can be found in the DetNet Architecture <a href="#I-D.ietf-detnet-architecture" class="xref">[I-D.ietf-detnet-architecture]</a>.  </p>
<p id="rfc.section.1.p.2">This document specifies the DetNet data plane operation for IP hosts and routers that provide DetNet service to IP encapsulated data. No DetNet specific encapsulation is defined to support IP flows, rather existing IP header information is used to support flow identification and DetNet service delivery. General background on the use of IP headers, and "5-tuples", to identify flows and support Quality of Service (QoS) can be found in <a href="#RFC3670" class="xref">[RFC3670]</a>.  <a href="#RFC7657" class="xref">[RFC7657]</a> also provides useful background on the delivery differentiated services (DiffServ) and "6-tuple" based flow identification.  </p>
<p id="rfc.section.1.p.3">The DetNet Architecture decomposes the DetNet related data plane functions into two layers: a service layer and a transport layer.  The service layer is used to provide DetNet service protection and reordering. The transport layer is used to provides congestion protection (low loss, assured latency, and limited reordering). As no DetNet specific headers are added to support IP DetNet flows, only the transport layer functions are supported using the IP DetNet defined by this document. Service protection can be provided on a per sub-net basis using technologies such as MPLS <a href="#I-D.ietf-detnet-dp-sol-mpls" class="xref">[I-D.ietf-detnet-dp-sol-mpls]</a> and IEEE802.1 TSN.  </p>
<p id="rfc.section.1.p.4">This document provides an overview of the DetNet IP data plane in <a href="#sec_dt_dp" class="xref">Section 3</a>, considerations that apply to providing DetNet services via the DetNet IP data plane in <a href="#dn-gen-encap-solution" class="xref">Section 4</a> and <a href="#m-cp-considerations" class="xref">Section 5</a>. <a href="#ip-encap" class="xref">Section 6</a> provides the requirements for hosts and routers that support IP-based DetNet services. Finally, <a href="#mapping-tsn" class="xref">Section 7</a> provides rules for mapping IP-based DetNet flows to IEEE 802.1 TSN streams.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Terminology</h1>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> Terms used in this document</h1>
<p id="rfc.section.2.1.p.1">This document uses the terminology and concepts established in the DetNet architecture <a href="#I-D.ietf-detnet-architecture" class="xref">[I-D.ietf-detnet-architecture]</a> the reader is assumed to be familiar with that document.  </p>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> Abbreviations</h1>
<p id="rfc.section.2.2.p.1">The following abbreviations used in this document: </p>

<dl>
<dt>CE</dt>
<dd style="margin-left: 14">Customer Edge equipment.</dd>
<dt>CoS</dt>
<dd style="margin-left: 14">Class of Service.</dd>
<dt>DetNet</dt>
<dd style="margin-left: 14">Deterministic Networking.</dd>
<dt>DF</dt>
<dd style="margin-left: 14">DetNet Flow.</dd>
<dt>L2</dt>
<dd style="margin-left: 14">Layer-2.</dd>
<dt>L3</dt>
<dd style="margin-left: 14">Layer-3.</dd>
<dt>LSP</dt>
<dd style="margin-left: 14">Label-switched path.</dd>
<dt>MPLS</dt>
<dd style="margin-left: 14">Multiprotocol Label Switching.</dd>
<dt>OAM</dt>
<dd style="margin-left: 14">Operations, Administration, and Maintenance.</dd>
<dt>PE</dt>
<dd style="margin-left: 14">Provider Edge.</dd>
<dt>PREOF</dt>
<dd style="margin-left: 14">Packet Replication, Ordering and Elimination Function.</dd>
<dt>PSN</dt>
<dd style="margin-left: 14">Packet Switched Network.</dd>
<dt>PW</dt>
<dd style="margin-left: 14">Pseudowire.</dd>
<dt>QoS</dt>
<dd style="margin-left: 14">Quality of Service.</dd>
<dt>TE</dt>
<dd style="margin-left: 14">Traffic Engineering.</dd>
<dt>TSN</dt>
<dd style="margin-left: 14">Time-Sensitive Networking, TSN is a Task Group of the IEEE 802.1 Working Group.</dd>
</dl>

<p> </p>
<h1 id="rfc.section.2.3">
<a href="#rfc.section.2.3">2.3.</a> Requirements language</h1>
<p id="rfc.section.2.3.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <a href="#RFC2119" class="xref">[RFC2119]</a> <a href="#RFC8174" class="xref">[RFC8174]</a> when, and only when, they appear in all capitals, as shown here.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#sec_dt_dp" id="sec_dt_dp">DetNet IP Data Plane Overview</a>
</h1>
<p id="rfc.section.3.p.1">This document describes how IP is used by DetNet nodes, i.e., hosts and routers, to identify DetNet flows and provide a DetNet service. From a data plane perspective, an end-to-end IP model is followed.  </p>
<div id="rfc.figure.1"></div>
<div id="fig_ip_detnet_simple"></div>
<pre>
IP  DetNet       Relay                        Relay       IP DetNet
End System       Node                         Node        End System

+---------+                                               +---------+
|  Appl.  |&lt;--------------- End to End Service ----------&gt;|  Appl.  |
+---------+    ...........                  ...........   +---------+
| Service |&lt;---: Service :-- DetNet flow ---: Service :--&gt;| Service |
+---------+    +---------+                  +---------+   +---------+
|Transport|    |Transport|                  |Transport|   |Transport|
+-------.-+    +-.-----.-+                  +-.-----.-+   +---.-----+
        :  Link  :      \       ,-----.      /     /  ,-----.  \
        +........+       +-----[  Sub  ]----+      +-[  Sub  ]-+
                               [Network]             [Network]
                                `-----'               `-----'

        |&lt;-DN IP-&gt;|    |&lt;----- DetNet IP ----&gt;|      |&lt;-DN IP-&gt;|
                         </pre>
<p class="figure">Figure 1: A Simple DetNet (DN) Enabled IP Network</p>
<p><a href="#fig_ip_detnet_simple" class="xref">Figure 1</a> illustrates a DetNet enabled IP network.  The DetNet enabled end systems originate IP encapsulated traffic that is identified as DetNet flows, relay nodes understand the transport requirements of the DetNet flow and ensure that node, interface and sub-network resources are allocated to ensure DetNet service requirements. The dotted line around the Service component of the Relay Nodes indicates that the transit routers are DetNet service aware but do not perform any DetNet service layer function, e.g., PREOF.  IEEE 802.1 TSN is an example sub-network type which can provide support for DetNet flows and service.  The mapping of IP DetNet flows to TSN streams and TSN protection mechanisms is covered in <a href="#mapping-tsn" class="xref">Section 7</a>.  </p>
<div id="rfc.figure.2"></div>
<div id="fig_ip_detnet"></div>
<pre>
IP  DetNet       Relay          Transit       Relay       IP DetNet
End System       Node            Node         Node        End System

+---------+                                               +---------+
|  Appl.  |&lt;--------------- End to End Service ----------&gt;|  Appl.  |
+---------+    .....-----+                  +-----.....   +---------+
| Service |&lt;---: Service |-- DetNet flow ---| Service :--&gt;| Service |
+---------+    +---------+   +---------+    +---------+   +---------+
|Transport|    |Trp| |Trp|   |Transport|    |Trp| |Trp|   |Transport|
+-------.-+    +-.-+ +-.-+   +---.---.-+    +-.-+ +-.-+   +---.-----+
        :  Link  :    /  ,-----.  \  :  Link  :    /  ,-----.  \
        +........+    +-[  Sub  ]-+  +........+    +-[  Sub  ]-+
                        [Network]                    [Network]
                         `-----'                      `-----'

        |&lt;-DN IP-&gt;|   |&lt;---- DetNet MPLS ----&gt;|      |&lt;-DN IP-&gt;|
                         </pre>
<p class="figure">Figure 2: DetNet (DN) IP Over MPLS Network</p>
<p><a href="#fig_ip_detnet" class="xref">Figure 2</a> illustrates a more complex DetNet enabled IP network where an IP flow is mapped to one or more PWs and MPLS (TE) LSPs.  The end systems still originate IP encapsulated traffic that is identified as DetNet flows.  The relay nodes follow procedures defined in <a href="#I-D.ietf-detnet-dp-sol-mpls" class="xref">[I-D.ietf-detnet-dp-sol-mpls]</a> to map each DetNet flow to MPLS LSPs. While not shown, relay nodes can provide service layer functions such as PREOF over the MPLS transport layer, and this is indicated by the solid line for the MPLS facing portion of the Service component. Note that the Transit node is MPLS (TE) LSP aware and performs switching based on MPLS labels, and need not have any specific knowledge of the DetNet service or the corresponding DetNet flow identification. See <a href="#I-D.ietf-detnet-dp-sol-mpls" class="xref">[I-D.ietf-detnet-dp-sol-mpls]</a> for details on the mapping of IP flows to MPLS as well as general support for DetNet services using MPLS.  </p>
<div id="rfc.figure.3"></div>
<div id="fig_non_detnet_ip"></div>
<pre>
IP               Edge                        Edge         IP
End System       Node                        Node         End System

+---------+    +.........+                  +.........+   +---------+
|  Appl.  |&lt;---:Svc Proxy:-- E2E Service ---:Svc Proxy:--&gt;|  Appl.  |
+---------+    +---------+                  +---------+   +---------+
|   IP    |    |IP | |Svc|&lt;-- DetNet flow -&gt;|Svc| |IP |   |   IP    |
+---------+    +---+ +---+                  +---+ +---+   +---------+
|Transport|    |Trp| |Trp|                  |Trp| |Trp|   |Transport|
+-------.-+    +-.-+ +-.-+                  +-.-+ +-.-+   +---.-----+
        :  Link  :      \       ,-----.      /     /  ,-----.  \
        +........+       +-----[  Sub  ]---+      +-[  Sub  ]-+
                               [Network]            [Network]
                                `-----'              `-----'

      |&lt;----IP ---&gt;|    |&lt;----- DetNet IP ------&gt;|     |&lt;----IP ---&gt;|
                         </pre>
<p class="figure">Figure 3: Non-DetNet aware IP end systems with IP DetNet Domain</p>
<p><a href="#fig_non_detnet_ip" class="xref">Figure 3</a> illustrates a variant of <a href="#fig_ip_detnet_simple" class="xref">Figure 1</a> where the end systems are not DetNet aware.  In this case, edge nodes sit at the boundary of the DetNet domain and act as DetNet service proxies for the end applications by initiating and terminating DetNet service for the non-DetNet aware IP flows.  The existing header information or an approach such as described in <a href="#aggregation" class="xref">Section 4.7</a> can be used to support DetNet flow identification.  </p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#sec:ipflow" id="sec:ipflow">DetNet IP Flow Identification</a>
</h1>
<p id="rfc.section.3.1.p.1">DetNet IP flows are identified based on IP, both IPv4 <a href="#RFC0791" class="xref">[RFC0791]</a> and IPv6 <a href="#RFC8200" class="xref">[RFC8200]</a>, header information.  6 header fields are used and this set of fields is commonly referred to as the IP header "6-tuple".  The 6 fields include the IP source and destination address fields, the next level protocol or header field, the next level protocol (e.g. TCP or UDP) source and destination ports, and the IPv4 Type of Service or IPv6 Traffic Class field (i.e., DSCP).  As part of single DetNet flow identification, any of the fields can be ignored (wildcarded), and bit masks, prefix based longest match, and ranges can also be used.  </p>
<p id="rfc.section.3.1.p.2">DetNet flow aggregation may be enabled via the use of wildcards, masks, prefixes and ranges. IP tunnels may also be used to support flow aggregation. In these cases, it is expected that DetNet aware intermediate nodes will provide DetNet service assurance on the aggregate through resource allocation and congestion control mechanisms.  </p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> DetNet Data Plane Requirements</h1>
<p id="rfc.section.3.2.p.1">Two major groups of scenarios can be distinguished which require flow identification during transport: </p>
<p></p>

<ol>
<li>DetNet function related scenarios: <dl>
<dt>Congestion protection and latency control:</dt>
<dd style="margin-left: 8">
<br><br> Usage of allocated resources (queuing, policing, shaping) to ensure that the congestion-related loss and latency/jitter requirements of a DetNet flow are met.</dd>
<dt></dt>
<dd style="margin-left: 8">Explicit routes: a reservation that maps a flow to a specific path, which also limits miss-ordering and jitter. The spreading of a single DetNet flow across multiple paths, e.g., via ECMP, also impacts ordering and end-to-end jitter, and as such use of multiple paths for support of a single DetNet flow is is out of scope this document.</dd>
<dt>Service protection:</dt>
<dd style="margin-left: 8">
<br><br> Which in the case of this document translates to changing the explicit path after a failure is detected while maintaining the required DetNet service characteristics. Path changes, even in the case of failure recovery, can lead to the out of order delivery of data.  Note: DetNet PREOF is not provided by the mechanisms defined in this document.</dd>
</dl>
<p> </p>
</li>
<li>OAM function related scenarios: <dl>
<dt>Troubleshooting:</dt>
<dd style="margin-left: 8">
<br><br> For example, identify misbehaving flows.</dd>
<dt>Recognize flow(s) for analytics:</dt>
<dd style="margin-left: 8">
<br><br> For example, increase counters.</dd>
<dt>Correlate events with flows:</dt>
<dd style="margin-left: 8">
<br><br> For example, volume above threshold.</dd>
</dl>
<p> </p>
</li>
</ol>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#dn-gen-encap-solution" id="dn-gen-encap-solution">DetNet IP Data Plane Considerations</a>
</h1>
<p id="rfc.section.4.p.1">This section provides informative considerations related to providing DetNet services via IP.  </p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> End-system specific considerations</h1>
<p id="rfc.section.4.1.p.1">Data-flows requiring DetNet service are generated and terminated on end systems.  The specific protocols used by an end system are specific to an application.  This said, DetNet's use of 6-tuple IP flow identification means that DetNet must be aware of not only the format of the IP header, but also of the next protocol carried within an IP packet.  </p>
<p id="rfc.section.4.1.p.2">When IP end systems are DetNet aware, no application-level or service-level proxy functions are needed inside the DetNet domain, so end systems peer with end systems using the same application encapsulation format (see <a href="#fig_es_connect" class="xref">Figure 4</a>).  </p>
<div id="rfc.figure.4"></div>
<div id="fig_es_connect"></div>
<pre>
+-----+
|  X  |                               +-----+
+-----+                               |  X  |
|  IP |               ________        +-----+
+-----+     _____    /        \       |  IP |
       \   /     \__/          \___   +-----+
        \ /                        \ /
         0========= flow-1 =========0_
         |                             \
          \                             |
          0========== flow-2 ==========0
         / \                        __/ \
  +-----+   \__     DetNet domain  /     \
  |  X  |      \         __       /       +-----+
  +-----+       \_______/  \_____/        |  X  |
  |  IP |                                 +-----+
  +-----+                                 |  IP |
                                          +-----+
                                          
        </pre>
<p class="figure">Figure 4: End-systems and the DetNet domain</p>
<p id="rfc.section.4.1.p.3">End systems need to ensure that DetNet service requirements are met when processing packets associated with a DetNet flow.  When transporting packets, this generally means that packets are appropriately shaped on transmission and received appropriate traffic treatment on the connected sub-network, see <a href="#QoS" class="xref">Section 4.6</a> and <a href="#detrouting" class="xref">Section 4.2.1</a> for more details.  When receiving packets, this generally means that there are appropriate local node resources, e.g., buffers, to receive and process a DetNet flow packets.  </p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> DetNet domain specific considerations</h1>
<p id="rfc.section.4.2.p.1">As a general rule, DetNet domains need to be able to forward any DetNet flow identified by the IP 6-tuple. Doing otherwise would limit end system encapsulation format. From a practical standpoint this means that all nodes along the end-to-end path of a DetNet flows need to agree on what fields are used for flow identification, and the transport protocols (e.g., TCP/UDP/IPsec) which can be used to identify 6-tuple protocol ports.  </p>
<p id="rfc.section.4.2.p.2">[Editor's note: Update accordingly. BV to take a pass at update.] </p>
<p id="rfc.section.4.2.p.3">From a connection type perspective three scenarios are identified: </p>

<ol>
<li>Directly attached: end system is directly connected to an edge node. </li>
<li>Indirectly attached: end system is behind a (L2-TSN / L3-DetNet) sub-networks.</li>
<li>DN integrated: end system is part of the DetNet domain.  </li>
</ol>

<p> </p>
<p id="rfc.section.4.2.p.4">L3 end systems may use any of these connection types, however L2 end systems may use only the first two (directly or indirectly attached).  DetNet domain MUST allow communication between any end-systems of the same type (L2-L2, L3-L3), independent of their connection type and DetNet capability. However, directly attached and indirectly attached end systems have no knowledge about the DetNet domain and its encapsulation format at all. See <a href="#fig_es_con_types" class="xref">Figure 5</a> for L3 end system connection scenarios.  </p>
<div id="rfc.figure.5"></div>
<div id="fig_es_con_types"></div>
<pre>
                                   ____+----+
           +----+        _____    /    | ES3|
           | ES1|____   /     \__/     +----+___
           +----+    \ /                        \
                      +                          |
              ____     \                        _/
+----+     __/    \     +__    DetNet domain   /
| ES2|____/  L2/L3 |___/   \         __     __/
+----+    \_______/         \_______/  \___/


        </pre>
<p class="figure">Figure 5: Connection types of L3 end systems</p>
<h1 id="rfc.section.4.2.1">
<a href="#rfc.section.4.2.1">4.2.1.</a> <a href="#detrouting" id="detrouting">DetNet Routers</a>
</h1>
<p id="rfc.section.4.2.1.p.1">Within a DetNet domain, the DetNet enabled IP Routers interconnect links and sub-networks to support end-to-end delivery of DetNet flows.  From a DetNet architecture perspective, these routers are DetNet relays, as they must be DetNet service aware.  Such routers identify DetNet flows based on the IP 6-tuple, and ensure that the DetNet service required traffic treatment is provided both on the node and on any attached sub-network.  </p>
<p id="rfc.section.4.2.1.p.2">This solution provides DetNet functions end to end, but does so on a per link and sub-network basis.  Congestion protection and latency control and the resource allocation (queuing, policing, shaping) are supported using the underlying link / sub net specific mechanisms.  However, service protections (packet replication and packet emilination functions) are not provided at the DetNet layer end to end.  But such service protection can be provided on a per underlying L2 link and sub-network basis.  </p>
<div id="rfc.figure.6"></div>
<div id="fig_simple_iprouting"></div>
<pre>
           +------+                         +------+
           |  X   |                         |  X   |
           +======+                         +------+
End-system |  IP  |                         |  IP  |
      -----+------+-------+======+---     --+======+--
DetNet                    |L2/SbN|          |L2/SbN|
                          +------+          +------+
                          
            </pre>
<p class="figure">Figure 6: Encapsulation of DetNet Routing in simplified IP service L3 end-systems</p>
<p id="rfc.section.4.2.1.p.3">Note: the DetNet Service Flow MUST be mapped to the link / sub-network specific resources using an underlying system specific means. This implies each DetNet aware node on path MUST look into the transported DetNet Service Flow packet and utilize e.g., a 5- (or 6-) tuple to find out the required mapping within a node.  As noted earlier, the Service Protection is done within each link / sub-network independently using the domain specific mechanisms (due the lack of a unified end to end sequencing information that would be available for intermediate nodes). If end to end service protection is desired that can be implemented, for example, by the DetNet end systems using Layer-4 (L4) transport protocols or application protocols. However, these are out of scope of this document.  </p>
<p id="rfc.section.4.2.1.p.4">[Editor's note: the service protection to be clarified further.] </p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> <a href="#nwsegments" id="nwsegments">Networks with multiple technology segments</a>
</h1>
<p id="rfc.section.4.3.p.1">There are network scenarios, where the DetNet domain contains multiple technology segments (IEEE 802.1 TSN, MPLS) and all those segments are under the same administrative control (see <a href="#fig_pref_xcrs_segments" class="xref">Figure 7</a>). Furthermore, DetNet nodes may be interconnected via TSN segments.  </p>
<p id="rfc.section.4.3.p.2">DetNet routers ensure that detnet service requirements are met per hop by allocating local resources, both receive and transmit, and by mapping the service requirements of each flow to appropriate sub-network mechanisms.  Such mapping is sub-network technology specific.  The mapping of IP DetNet Flows to MPLS is covered <a href="#I-D.ietf-detnet-dp-sol-mpls" class="xref">[I-D.ietf-detnet-dp-sol-mpls]</a>.  The mapping of IP DetNet Flows to IEEE 802.1 TSN is covered in <a href="#mapping-tsn" class="xref">Section 7</a>.  </p>
<div id="rfc.figure.7"></div>
<div id="fig_pref_xcrs_segments"></div>
<pre>
                                   ______
                         _____    /      \__
            ____        /     \__/          \___    ______
+----+   __/    +======+                        +==+      \   +----+
|src |__/  Seg1  )     |                        |  \  Seg3 \__| dst|
+----+  \_______+      \        Segment-2       |   \+_____/  +----+
                 \======+__                    _+===/
                           \         __     __/
                            \_______/  \___/
                            
          </pre>
<p class="figure">Figure 7: DetNet domains and multiple technology segments</p>
<h1 id="rfc.section.4.4">
<a href="#rfc.section.4.4">4.4.</a> OAM</h1>
<p id="rfc.section.4.4.p.1">[Editor's note: This section is TBD] </p>
<h1 id="rfc.section.4.5">
<a href="#rfc.section.4.5">4.5.</a> Class of Service</h1>
<p id="rfc.section.4.5.p.1">[Editor's note: this section is TBD] </p>
<p id="rfc.section.4.5.p.2">Class and quality of service, i.e., CoS and QoS, are terms that are often used interchangeably and confused.  In the context of DetNet, CoS is used to refer to mechanisms that provide traffic forwarding treatment based on aggregate group basis and QoS is used to refer to mechanisms that provide traffic forwarding treatment based on a specific DetNet flow basis.  Examples of existing network level CoS mechanisms include DiffServ which is enabled by IP header differentiated services code point (DSCP) field <a href="#RFC2474" class="xref">[RFC2474]</a> and MPLS label traffic class field <a href="#RFC5462" class="xref">[RFC5462]</a>, and at Layer-2, by IEEE 802.1p priority code point (PCP).  </p>
<p id="rfc.section.4.5.p.3">CoS for DetNet flows carried in PWs and MPLS is provided using the existing MPLS Differentiated Services (DiffServ) architecture <a href="#RFC3270" class="xref">[RFC3270]</a>.  Both E-LSP and L-LSP MPLS DiffServ modes MAY be used to support DetNet flows.  The Traffic Class field (formerly the EXP field) of an MPLS label follows the definition of <a href="#RFC5462" class="xref">[RFC5462]</a> and <a href="#RFC3270" class="xref">[RFC3270]</a>.  The Uniform, Pipe, and Short Pipe DiffServ tunneling and TTL processing models are described in <a href="#RFC3270" class="xref">[RFC3270]</a> and <a href="#RFC3443" class="xref">[RFC3443]</a> and MAY be used for MPLS LSPs supporting DetNet flows. MPLS ECN MAY also be used as defined in ECN <a href="#RFC5129" class="xref">[RFC5129]</a> and updated by <a href="#RFC5462" class="xref">[RFC5462]</a>.  </p>
<p id="rfc.section.4.5.p.4">CoS for DetNet flows carried in IPv6 is provided using the standard differentiated services code point (DSCP) field <a href="#RFC2474" class="xref">[RFC2474]</a> and related mechanisms.  The 2-bit explicit congestion notification (ECN) <a href="#RFC3168" class="xref">[RFC3168]</a> field MAY also be used.  </p>
<p id="rfc.section.4.5.p.5">One additional consideration for DetNet nodes which support CoS services is that they MUST ensure that the CoS service classes do not impact the congestion protection and latency control mechanisms used to provide DetNet QoS.  This requirement is similar to requirement for MPLS LSRs to that CoS LSPs do not impact the resources allocated to TE LSPs via <a href="#RFC3473" class="xref">[RFC3473]</a>.  </p>
<h1 id="rfc.section.4.6">
<a href="#rfc.section.4.6">4.6.</a> <a href="#QoS" id="QoS">Quality of Service</a>
</h1>
<p id="rfc.section.4.6.p.1">[Editor's note: Keep this section. We should document the used technologies but the detailed discussion may go somewhere else. We should start having it here and then decide whether to move to some other document.] </p>
<p id="rfc.section.4.6.p.2">Quality of Service (QoS) mechanisms for flow specific traffic treatment typically includes a guarantee/agreement for the service, and allocation of resources to support the service.  Example QoS mechanisms include discrete resource allocation, admission control, flow identification and isolation, and sometimes path control, traffic protection, shaping, policing and remarking. Example protocols that support QoS control include <a href="#RFC2205" class="xref">Resource ReSerVation Protocol (RSVP)</a> (RSVP) and RSVP-TE <a href="#RFC3209" class="xref">[RFC3209]</a> and <a href="#RFC3473" class="xref">[RFC3473]</a>.  The existing MPLS mechanisms defined to support CoS <a href="#RFC3270" class="xref">[RFC3270]</a> can also be used to reserve resources for specific traffic classes.  </p>
<p id="rfc.section.4.6.p.3">In addition to explicit routes, and packet replication and elimination, DetNet provides zero congestion loss and bounded latency and jitter.  As described in <a href="#I-D.ietf-detnet-architecture" class="xref">[I-D.ietf-detnet-architecture]</a>, there are different mechanisms that maybe used separately or in combination to deliver a zero congestion loss service.  These mechanisms are provided by the either the MPLS or IP layers, and may be combined with the mechanisms defined by the underlying network layer such as 802.1TSN.  </p>
<p id="rfc.section.4.6.p.4">A baseline set of QoS capabilities for DetNet flows carried in PWs and MPLS can provided by MPLS with Traffic Engineering (MPLS-TE) <a href="#RFC3209" class="xref">[RFC3209]</a> and <a href="#RFC3473" class="xref">[RFC3473]</a>.  TE LSPs can also support explicit routes (path pinning).  Current service definitions for packet TE LSPs can be found in "Specification of the Controlled Load Quality of Service", <a href="#RFC2211" class="xref">[RFC2211]</a>, "Specification of Guaranteed Quality of Service", <a href="#RFC2212" class="xref">[RFC2212]</a>, and "Ethernet Traffic Parameters", <a href="#RFC6003" class="xref">[RFC6003]</a>. Additional service definitions are expected in future documents to support the full range of DetNet services.  In all cases, the existing label-based marking mechanisms defined for TE-LSPs and even E-LSPs are use to support the identification of flows requiring DetNet QoS.  </p>
<p id="rfc.section.4.6.p.5">QoS for DetNet service flows carried in IP MUST be provided locally by the DetNet-aware hosts and routers supporting DetNet flows.  Such support will leverage the underlying network layer such as 802.1TSN.  The traffic control mechanisms used to deliver QoS for IP encapsulated DetNet flows are expected to be defined in a future document.  From an encapsulation perspective, the combination of the "6 tuple" i.e., the typical 5 tuple enhanced with the DSCP code, uniquely identifies a DetNet service flow.  </p>
<p id="rfc.section.4.6.p.6">Packets that are marked with a DetNet Class of Service value, but that have not been the subject of a completed reservation, can disrupt the QoS offered to properly reserved DetNet flows by using resources allocated to the reserved flows.  Therefore, the network nodes of a DetNet network must: </p>

<ul>
<li>Defend the DetNet QoS by discarding or remarking (to a non-DetNet CoS) packets received that are not the subject of a completed reservation.  </li>
<li>Not use a DetNet reserved resource, e.g. a queue or shaper reserved for DetNet flows, for any packet that does not carry a DetNet Class of Service marker.  </li>
</ul>

<p> </p>
<h1 id="rfc.section.4.7">
<a href="#rfc.section.4.7">4.7.</a> <a href="#aggregation" id="aggregation">Cross-DetNet flow resource aggregation</a>
</h1>
<p id="rfc.section.4.7.p.1">[Editor's note: Aggregation is FFS. The addregation can be provided via encapsulation or header wildcards] </p>
<p id="rfc.section.4.7.p.2">The ability to aggregate individual flows, and their associated resource control, into a larger aggregate is an important technique for improving scaling of control in the data, management and control planes.  This document identifies the traffic identification related aspects of aggregation of DetNet flows.  The resource control and management aspects of aggregation (including the queuing/shaping/policing implications) will be covered in other documents.  The data plane implications of aggregation are independent for PW/MPLS and IP encapsulated DetNet flows.  </p>
<p id="rfc.section.4.7.p.3">DetNet flows transported via IP have more limited aggregation options, due to the available traffic flow identification fields of the IP solution.  One available approach is to manage the resources associated with a DSCP identified traffic class and to map (remark) individually controlled DetNet flows onto that traffic class.  This approach also requires that nodes support aggregation ensure that traffic from aggregated LSPs are placed (shaped/policed/enqueued) in a fashion that ensures the required DetNet service is preserved.  </p>
<p id="rfc.section.4.7.p.4">In both the MPLS and IP cases, additional details of the traffic control capabilities needed at a DetNet-aware node may be covered in the new service descriptions mentioned above or in separate future documents.  Management and control plane mechanisms will also need to ensure that the service required on the aggregate flow (H-LSP or DSCP) are provided, which may include the  discarding or remarking mentioned in the previous sections.  </p>
<h1 id="rfc.section.4.8">
<a href="#rfc.section.4.8">4.8.</a> Time synchronization</h1>
<p id="rfc.section.4.8.p.1">While time synchronization can be important both from the perspective of operating the DetNet network itself and from the perspective of DetNet-based applications, time synchronization is outside the scope of this document.  This said, a DetNet node can also support time synchronization or distribution mechanisms.  </p>
<p id="rfc.section.4.8.p.2">For example, <a href="#RFC8169" class="xref">[RFC8169]</a> describes a method of recording the packet queuing time in an MPLS LSR on a packet by per packet basis and forwarding this information to the egress edge system.  This allows compensation for any variable packet queuing delay to be applied at the packet receiver. Other mechanisms for IP networks are defined based on IEEE Standard 1588 <a href="#IEEE1588" class="xref">[IEEE1588]</a>, such as ITU-T <a href="#G.8275.1" class="xref">[G.8275.1]</a> and <a href="#G.8275.2" class="xref">[G.8275.2]</a>.  </p>
<p id="rfc.section.4.8.p.3">A more detailed discussion of time synchronization is outside the scope of this document.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#m-cp-considerations" id="m-cp-considerations">Management and control plane considerations</a>
</h1>
<p id="rfc.section.5.p.1">[Editor's note: This section needs to be different for MPLS and IP solutions. Most solutions are technology dependant.] </p>
<p id="rfc.section.5.p.2">While management plane and control plane are traditionally considered separately, from the Data Plane perspective there is no practical difference based on the origin of flow provisioning information.  This document therefore does not distinguish between information provided by a control plane protocol, e.g., RSVP-TE <a href="#RFC3209" class="xref">[RFC3209]</a> and <a href="#RFC3473" class="xref">[RFC3473]</a>, or by a network management mechanisms, e.g., RestConf <a href="#RFC8040" class="xref">[RFC8040]</a> and YANG <a href="#RFC7950" class="xref">[RFC7950]</a>.  </p>
<p id="rfc.section.5.p.3">[Editor's note: This section is a work in progress.  discuss here what kind of enhancements are needed for DetNet and specifically for PREOF and DetNet zero congest loss and latency control. Need to cover both traffic control (queuing) and connection control (control plane).] </p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> Explicit routes</h1>
<p id="rfc.section.5.1.p.1">[Editor's note: this is TBD.] </p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> Service protection</h1>
<p id="rfc.section.5.2.p.1">[Editor's note: this is TBD.] </p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> Congestion protection and latency control</h1>
<p id="rfc.section.5.3.p.1">[Editor's note: this is TBD.] </p>
<h1 id="rfc.section.5.4">
<a href="#rfc.section.5.4">5.4.</a> Flow aggregation control</h1>
<p id="rfc.section.5.4.p.1">[Editor's note: this is TBD.] </p>
<h1 id="rfc.section.5.5">
<a href="#rfc.section.5.5">5.5.</a> Bidirectional traffic</h1>
<p id="rfc.section.5.5.p.1">[Editor's note: This is managed at the management plane or controller level.] </p>
<p id="rfc.section.5.5.p.2">Some DetNet applications generate bidirectional traffic.  While the DetNet data plane must support bidirectional DetNet flows, there are no special bidirectional features with respect to the data plane other than need for the two directions take the same paths. That is to say that  bidirectional DetNet flows are solely represented at the management and control plane levels, without specific support or knowledge within the DetNet data plane.  Fate sharing and associated vs co-routed bidirectional flows can be managed at the control level.  Note, that there is no stated requirement for bidirectional DetNet flows to be supported using the same 6-tuple in each direction.  Control mechanisms will need to support such bidirectional flows but such mechanisms are out of scope of this document.  An example control plane solution for MPLS can be found in <a href="#RFC7551" class="xref">[RFC7551]</a>.  </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#ip-encap" id="ip-encap">DetNet IP Encapsulation Procedures</a>
</h1>
<p id="rfc.section.6.p.1">[Editor's note: RFC2119 conformance language goes here Need to support flow identification Based on 4 IP header fields {ip addrs, dscp, nct protocol} need to support port identification for TCP/UDP, IPsec spi (?), what else? Service proxies -- basically same from data plane, different from management map to local resources] </p>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> Multi-Path Considerations</h1>
<p id="rfc.section.6.1.p.1">[Note: talk about implications of ECMP/LAG/parallel links -- perhaps just say support for such is not covered in the document.] </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#mapping-tsn" id="mapping-tsn">Mapping IP DetNet Flows to IEEE 802.1 TSN</a>
</h1>
<p id="rfc.section.7.p.1">[Editor's note: This section is TBD - it covers how IP DetNet flows operate over an IEEE 802.1 TSN sub-network. BV to take a pass at filling in this section] </p>
<p id="rfc.section.7.p.2">The Time-Sensitive Networking (TSN) Task Group of the IEEE 802.1 Working Group have defined (and are defining) a number of amendments to <a href="#IEEE8021Q" class="xref">IEEE 802.1Q</a> that provide zero congestion loss and bounded latency in bridged networks.  <a href="#IEEE8021CB" class="xref">IEEE 802.1CB</a> defines packet replication and elimination functions that should prove both compatible with and useful to, DetNet networks.  </p>
<p id="rfc.section.7.p.3">As is the case for DetNet, a Layer 2 network node such as a bridge may need to identify the specific DetNet flow to which a packet belongs in order to provide the TSN/DetNet QoS for that packet.  It also will likely need a CoS marking, such as the priority field of an IEEE Std 802.1Q VLAN tag, to give the packet proper service.  </p>
<p id="rfc.section.7.p.4">Although the flow identification methods described in <a href="#IEEE8021CB" class="xref">IEEE 802.1CB</a> are flexible, and in fact, include IP 5-tuple identification methods, the baseline TSN standards assume that every Ethernet frame belonging to a TSN stream (i.e.  DetNet flow) carries a multicast destination MAC address that is unique to that flow within the bridged network over which it is carried.  Furthermore, <a href="#IEEE8021CB" class="xref">IEEE 802.1CB</a> describes three methods by which a packet sequence number can be encoded in an Ethernet frame.  </p>
<p id="rfc.section.7.p.5">Ensuring that the proper Ethernet VLAN tag priority and destination MAC address are used on a DetNet/TSN packet may require further clarification of the customary L2/L3 transformations carried out by routers and edge label switches.  Edge nodes may also have to move sequence number fields among Layer 2, PW, and IPv6 encapsulations.  </p>
<h1 id="rfc.section.7.1">
<a href="#rfc.section.7.1">7.1.</a> TSN Stream ID Mapping</h1>
<p id="rfc.section.7.1.p.1">[Editor's Note: This section covers the data plane aspects of mapping an IP DetNet flow to one or more TSN Stream-IDs.] </p>
<h1 id="rfc.section.7.2">
<a href="#rfc.section.7.2">7.2.</a> TSN Usage of FRER</h1>
<p id="rfc.section.7.2.p.1">[Core point] TSN Streams support DetNet flows may use Frame Replication and Elimination for Redundancy (FRER) [802.1CB] based on the loss service requirements of the TSN Stream, which is derived from the DetNet service requirements of the DetNet mapped flow.  The specific operation of the FRER is not modified by the use of DetNe and follows  <a href="#IEEE8021CB" class="xref">IEEE 802.1CB</a>.  </p>
<h1 id="rfc.section.7.3">
<a href="#rfc.section.7.3">7.3.</a> Management and Control Implications</h1>
<p id="rfc.section.7.3.p.1">[Editor's note: This section is TBD Covers Creation, mapping, removal of TSN Stream IDs, related parameters and,when needed, configuration of FRER. Supported by management/control plane.] </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> Security considerations</h1>
<p id="rfc.section.8.p.1">The security considerations of DetNet in general are discussed in <a href="#I-D.ietf-detnet-architecture" class="xref">[I-D.ietf-detnet-architecture]</a> and <a href="#I-D.ietf-detnet-security" class="xref">[I-D.ietf-detnet-security]</a>. Other security considerations will be added in a future version of this draft.  </p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#iana" id="iana">IANA considerations</a>
</h1>
<p id="rfc.section.9.p.1">TBD.  </p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#contributors" id="contributors">Contributors</a>
</h1>
<p id="rfc.section.10.p.1">RFC7322 limits the number of authors listed on the front page of a draft to a maximum of 5, far fewer than the 20 individuals below who made important contributions to this draft. The editor wishes to thank and acknowledge each of the following authors for contributing text to this draft. See also <a href="#acks" class="xref">Section 11</a>.  </p>
<pre>
   Loa Andersson
   Huawei
   Email: loa@pi.nu

   Yuanlong Jiang
   Huawei
   Email: jiangyuanlong@huawei.com

   Norman Finn
   Huawei
   3101 Rio Way
   Spring Valley, CA  91977
   USA
   Email: norman.finn@mail01.huawei.com

   Janos Farkas
   Ericsson
   Magyar Tudosok krt. 11
   Budapest  1117
   Hungary
   Email: janos.farkas@ericsson.com

   Carlos J. Bernardos
   Universidad Carlos III de Madrid
   Av. Universidad, 30
   Leganes, Madrid  28911
   Spain
   Email: cjbc@it.uc3m.es

   Tal Mizrahi
   Marvell
   6 Hamada st.
   Yokneam
   Israel
   Email: talmi@marvell.com

   Lou Berger
   LabN Consulting, L.L.C.
   Email: lberger@labn.net
   </pre>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> <a href="#acks" id="acks">Acknowledgements</a>
</h1>
<p id="rfc.section.11.p.1">The author(s) ACK and NACK.  </p>
<p id="rfc.section.11.p.2">The following people were part of the DetNet Data Plane Solution Design Team: </p>

<ul class="empty">
<li>Jouni Korhonen</li>
<li>J&#225;nos Farkas</li>
<li>Norman Finn</li>
<li>Bal&#225;zs Varga</li>
<li>Loa Andersson</li>
<li>Tal Mizrahi</li>
<li>David Mozes</li>
<li>Yuanlong Jiang</li>
<li>Carlos J. Bernardos</li>
</ul>
<p id="rfc.section.11.p.3">The DetNet chairs serving during the DetNet Data Plane Solution Design Team: </p>

<ul class="empty">
<li>Lou Berger</li>
<li>Pat Thaler</li>
</ul>
<p id="rfc.section.11.p.4">Thanks for Stewart Bryant for his extensive review of the previous versions of the document.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">12.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">12.1.</a> Normative references</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC0791">[RFC0791]</b></td>
<td class="top">
<a>Postel, J.</a>, "<a href="https://tools.ietf.org/html/rfc791">Internet Protocol</a>", STD 5, RFC 791, DOI 10.17487/RFC0791, September 1981.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a>Bradner, S.</a>, "<a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2211">[RFC2211]</b></td>
<td class="top">
<a>Wroclawski, J.</a>, "<a href="https://tools.ietf.org/html/rfc2211">Specification of the Controlled-Load Network Element Service</a>", RFC 2211, DOI 10.17487/RFC2211, September 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2212">[RFC2212]</b></td>
<td class="top">
<a>Shenker, S.</a>, <a>Partridge, C.</a> and <a>R. Guerin</a>, "<a href="https://tools.ietf.org/html/rfc2212">Specification of Guaranteed Quality of Service</a>", RFC 2212, DOI 10.17487/RFC2212, September 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2474">[RFC2474]</b></td>
<td class="top">
<a>Nichols, K.</a>, <a>Blake, S.</a>, <a>Baker, F.</a> and <a>D. Black</a>, "<a href="https://tools.ietf.org/html/rfc2474">Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers</a>", RFC 2474, DOI 10.17487/RFC2474, December 1998.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3168">[RFC3168]</b></td>
<td class="top">
<a>Ramakrishnan, K.</a>, <a>Floyd, S.</a> and <a>D. Black</a>, "<a href="https://tools.ietf.org/html/rfc3168">The Addition of Explicit Congestion Notification (ECN) to IP</a>", RFC 3168, DOI 10.17487/RFC3168, September 2001.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3209">[RFC3209]</b></td>
<td class="top">
<a>Awduche, D.</a>, <a>Berger, L.</a>, <a>Gan, D.</a>, <a>Li, T.</a>, <a>Srinivasan, V.</a> and <a>G. Swallow</a>, "<a href="https://tools.ietf.org/html/rfc3209">RSVP-TE: Extensions to RSVP for LSP Tunnels</a>", RFC 3209, DOI 10.17487/RFC3209, December 2001.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3270">[RFC3270]</b></td>
<td class="top">
<a>Le Faucheur, F.</a>, <a>Wu, L.</a>, <a>Davie, B.</a>, <a>Davari, S.</a>, <a>Vaananen, P.</a>, <a>Krishnan, R.</a>, <a>Cheval, P.</a> and <a>J. Heinanen</a>, "<a href="https://tools.ietf.org/html/rfc3270">Multi-Protocol Label Switching (MPLS) Support of Differentiated Services</a>", RFC 3270, DOI 10.17487/RFC3270, May 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3443">[RFC3443]</b></td>
<td class="top">
<a>Agarwal, P.</a> and <a>B. Akyol</a>, "<a href="https://tools.ietf.org/html/rfc3443">Time To Live (TTL) Processing in Multi-Protocol Label Switching (MPLS) Networks</a>", RFC 3443, DOI 10.17487/RFC3443, January 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3473">[RFC3473]</b></td>
<td class="top">
<a>Berger, L.</a>, "<a href="https://tools.ietf.org/html/rfc3473">Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic Engineering (RSVP-TE) Extensions</a>", RFC 3473, DOI 10.17487/RFC3473, January 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5129">[RFC5129]</b></td>
<td class="top">
<a>Davie, B.</a>, <a>Briscoe, B.</a> and <a>J. Tay</a>, "<a href="https://tools.ietf.org/html/rfc5129">Explicit Congestion Marking in MPLS</a>", RFC 5129, DOI 10.17487/RFC5129, January 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5462">[RFC5462]</b></td>
<td class="top">
<a>Andersson, L.</a> and <a>R. Asati</a>, "<a href="https://tools.ietf.org/html/rfc5462">Multiprotocol Label Switching (MPLS) Label Stack Entry: "EXP" Field Renamed to "Traffic Class" Field</a>", RFC 5462, DOI 10.17487/RFC5462, February 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6003">[RFC6003]</b></td>
<td class="top">
<a>Papadimitriou, D.</a>, "<a href="https://tools.ietf.org/html/rfc6003">Ethernet Traffic Parameters</a>", RFC 6003, DOI 10.17487/RFC6003, October 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8174">[RFC8174]</b></td>
<td class="top">
<a>Leiba, B.</a>, "<a href="https://tools.ietf.org/html/rfc8174">Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</a>", BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8200">[RFC8200]</b></td>
<td class="top">
<a>Deering, S.</a> and <a>R. Hinden</a>, "<a href="https://tools.ietf.org/html/rfc8200">Internet Protocol, Version 6 (IPv6) Specification</a>", STD 86, RFC 8200, DOI 10.17487/RFC8200, July 2017.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">12.2.</a> Informative references</h1>
<table><tbody>
<tr>
<td class="reference"><b id="G.8275.1">[G.8275.1]</b></td>
<td class="top">
<a>International Telecommunication Union</a>, "<a href="https://www.itu.int/rec/T-REC-G.8275.1/en">Precision time protocol telecom profile for phase/time synchronization with full timing support from the network</a>", ITU-T G.8275.1/Y.1369.1 G.8275.1, June 2016.</td>
</tr>
<tr>
<td class="reference"><b id="G.8275.2">[G.8275.2]</b></td>
<td class="top">
<a>International Telecommunication Union</a>, "<a href="https://www.itu.int/rec/T-REC-G.8275.2/en">Precision time protocol telecom profile for phase/time synchronization with partial timing support from the network</a>", ITU-T G.8275.2/Y.1369.2 G.8275.2, June 2016.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-detnet-architecture">[I-D.ietf-detnet-architecture]</b></td>
<td class="top">
<a>Finn, N.</a>, <a>Thubert, P.</a>, <a>Varga, B.</a> and <a>J. Farkas</a>, "<a href="https://tools.ietf.org/html/draft-ietf-detnet-architecture-08">Deterministic Networking Architecture</a>", Internet-Draft draft-ietf-detnet-architecture-08, September 2018.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-detnet-dp-sol-mpls">[I-D.ietf-detnet-dp-sol-mpls]</b></td>
<td class="top">
<a>Korhonen, J., Varga, B.</a>, "<a>DetNet MPLS Data Plane Encapsulation</a>", 2018.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-detnet-security">[I-D.ietf-detnet-security]</b></td>
<td class="top">
<a>Mizrahi, T.</a>, <a>Grossman, E.</a>, <a>Hacker, A.</a>, <a>Das, S.</a>, <a>Dowdell, J.</a>, <a>Austad, H.</a>, <a>Stanton, K.</a> and <a>N. Finn</a>, "<a href="https://tools.ietf.org/html/draft-ietf-detnet-security-02">Deterministic Networking (DetNet) Security Considerations</a>", Internet-Draft draft-ietf-detnet-security-02, April 2018.</td>
</tr>
<tr>
<td class="reference"><b id="IEEE1588">[IEEE1588]</b></td>
<td class="top">
<a>IEEE</a>, "<a>IEEE 1588 Standard for a Precision Clock Synchronization Protocol for Networked Measurement and Control Systems Version 2</a>", 2008.</td>
</tr>
<tr>
<td class="reference"><b id="IEEE8021CB">[IEEE8021CB]</b></td>
<td class="top">
<a title="IEEE 802.1">Finn, N.</a>, "<a href="http://www.ieee802.org/1/files/private/cb-drafts/d2/802-1CB-d2-1.pdf">Draft Standard for Local and metropolitan area networks - Seamless Redundancy</a>", IEEE P802.1CB /D2.1 P802.1CB, December 2015.</td>
</tr>
<tr>
<td class="reference"><b id="IEEE8021Q">[IEEE8021Q]</b></td>
<td class="top">
<a>IEEE 802.1</a>, "<a href="http://standards.ieee.org/about/get/">Standard for Local and metropolitan area networks--Bridges and Bridged Networks (IEEE Std 802.1Q-2014)</a>", 2014.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2205">[RFC2205]</b></td>
<td class="top">
<a>Braden, R.</a>, <a>Zhang, L.</a>, <a>Berson, S.</a>, <a>Herzog, S.</a> and <a>S. Jamin</a>, "<a href="https://tools.ietf.org/html/rfc2205">Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification</a>", RFC 2205, DOI 10.17487/RFC2205, September 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3670">[RFC3670]</b></td>
<td class="top">
<a>Moore, B.</a>, <a>Durham, D.</a>, <a>Strassner, J.</a>, <a>Westerinen, A.</a> and <a>W. Weiss</a>, "<a href="https://tools.ietf.org/html/rfc3670">Information Model for Describing Network Device QoS Datapath Mechanisms</a>", RFC 3670, DOI 10.17487/RFC3670, January 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7551">[RFC7551]</b></td>
<td class="top">
<a>Zhang, F.</a>, <a>Jing, R.</a> and <a>R. Gandhi</a>, "<a href="https://tools.ietf.org/html/rfc7551">RSVP-TE Extensions for Associated Bidirectional Label Switched Paths (LSPs)</a>", RFC 7551, DOI 10.17487/RFC7551, May 2015.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7657">[RFC7657]</b></td>
<td class="top">
<a>Black, D.</a> and <a>P. Jones</a>, "<a href="https://tools.ietf.org/html/rfc7657">Differentiated Services (Diffserv) and Real-Time Communication</a>", RFC 7657, DOI 10.17487/RFC7657, November 2015.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7950">[RFC7950]</b></td>
<td class="top">
<a>Bjorklund, M.</a>, "<a href="https://tools.ietf.org/html/rfc7950">The YANG 1.1 Data Modeling Language</a>", RFC 7950, DOI 10.17487/RFC7950, August 2016.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8040">[RFC8040]</b></td>
<td class="top">
<a>Bierman, A.</a>, <a>Bjorklund, M.</a> and <a>K. Watsen</a>, "<a href="https://tools.ietf.org/html/rfc8040">RESTCONF Protocol</a>", RFC 8040, DOI 10.17487/RFC8040, January 2017.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8169">[RFC8169]</b></td>
<td class="top">
<a>Mirsky, G.</a>, <a>Ruffini, S.</a>, <a>Gray, E.</a>, <a>Drake, J.</a>, <a>Bryant, S.</a> and <a>A. Vainshtein</a>, "<a href="https://tools.ietf.org/html/rfc8169">Residence Time Measurement in MPLS Networks</a>", RFC 8169, DOI 10.17487/RFC8169, May 2017.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.A">
<a href="#rfc.appendix.A">Appendix A.</a> <a href="#sec_comb" id="sec_comb">Example of DetNet data plane operation</a>
</h1>
<p id="rfc.section.A.p.1">[Editor's note: Add a simplified example of DetNet data plane and how labels etc work in the case of MPLS-based PSN and utilizing PREOF. The figure is subject to change depending on the further DT decisions on the label handling..] </p>
<h1 id="rfc.appendix.B">
<a href="#rfc.appendix.B">Appendix B.</a> Example of pinned paths using IPv6</h1>
<p id="rfc.section.B.p.1">TBD.  </p>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Jouni Korhonen</span> (editor)
	  <span class="n hidden">
		<span class="family-name">Korhonen</span>
	  </span>
	</span>
	<span class="org vcardline"></span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:jouni.nospam@gmail.com">jouni.nospam@gmail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Bal&#225;zs Varga</span> (editor)
	  <span class="n hidden">
		<span class="family-name">Varga</span>
	  </span>
	</span>
	<span class="org vcardline">Ericsson</span>
	<span class="adr">
	  <span class="vcardline">Magyar Tudosok krt. 11.</span>

	  <span class="vcardline">
		<span class="locality">Budapest</span>,  
		<span class="region"></span>
		<span class="code">1117</span>
	  </span>
	  <span class="country-name vcardline">Hungary</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:balazs.a.varga@ericsson.com">balazs.a.varga@ericsson.com</a></span>

  </address>
</div>

</body>
</html>
